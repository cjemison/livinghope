{% extends 'base.html' %}
{% load static %}

{% block content %}
<h2>{{post.title}}</h2>
<div class="row">
    <div class="col-md-9">
        <p><small>Posted on {{post.created_on}} by {{post.author}}
            {% if post.updated_on %}
            <br>Updated on {{post.updated_on}}
            {% endif %}
        </small>
        </p>
        <hr>
        <div id="blog-content">
            {{post.content|safe}}
        </div>
        <div>
            {% for tag in post.tags.all %}
                <a href="#" class="btn btn-primary btn-sm">
                {{tag.name}}
                </a>
            {% endfor %}
        </div>
        <hr>
        <div>
            {% if previous_post_id %}
                <a class="btn btn-success pull-left" href="{% url 'blog_entry' previous_post_id %}">Previous Post</a>
            {% endif %}

            {% if next_post_id %}
                <a class="btn btn-success pull-right" href="{% url 'blog_entry' next_post_id %}">Next Post</a>
            {% endif %}
        </div>
    </div>
    <div class="col-md-3">
        {% if most_recent_posts %}
            <h4>Recent Posts</h4>
            {% for recent_post in most_recent_posts %}
                <ul class="list-group">
                {% if recent_post.id != post.id %}
                    <li class="list-group-item"><a href="{% url 'blog_entry' recent_post.id %}">
                        {{recent_post.title}}
                        </a><br>
                    </li>
                {% endif %}
                </ul>

            {% endfor %}
        {% endif %}

        {% if archive %}
            <h4>Post Archive</h4>
                <ul class="list-group">
                {% for year, month, num in archive %}
                    <li class="list-group-item">
                        <a href="#">
                            {{month}} - {{year}}
                        </a>
                        <span class="badge">{{num}}</span>
                    </li>
                {% endfor %}
                </ul>
        {% endif %}
    </div>

</div>

{% endblock %}